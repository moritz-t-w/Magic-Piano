---
import StanfordHeader from "./stanfordHeader.astro";
import DocNav from "../pages/docNav.astro";
import StanfordFooter from "./stanfordFooter.astro";
import StanfordSubheader from "./stanfordSubheader.astro";
import { execSync } from "node:child_process";

import "../styles/markdown-styles.scss";

const { title } = Astro.props.content || Astro.props;
const commit = execSync("git rev-parse --short HEAD").toString().trim();
const datetime = new Date().toISOString();
---

<style>
  main {
    color: var(--black);
    font-family: "Source Sans Pro", sans-serif;
    margin: 0 auto;
    max-width: 80%;
    min-height: calc(100vh - 90px - 69px - 193px);
    padding: 4em 1em;
    position: relative;
    font-size: 1.6rem;

    h2 {
      margin: 1.5em auto 0.75em;
    }

    a {
      color: var(--primary-accent);
    }

    img {
      border-radius: 5px;
      display: block;
      height: auto;
      margin: 0 auto;
      max-width: 100%;
    }
  }
</style>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="version" content={commit} />
<meta name="dcterms.modified" content={datetime} />
<meta
  name="description"
  content="The Pianolatron application provides interactive engagement with the Stanford Piano Rolls collection."
/>
<title>{title}</title>

<body>
  <StanfordHeader />
  <StanfordSubheader />
  <DocNav />
  <main>
    <slot />
  </main>
  <StanfordFooter />
</body>
